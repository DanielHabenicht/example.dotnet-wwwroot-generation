var FederationGateway;(()=>{"use strict";var e={};function t(){this.langBundles={en:{"fatal.divMissing":'<div> specified  as "insertAtDiv" could not be located in the HTML',"fatal.noXMLHttpRequest":"Browser does not support XMLHttpRequest, unable to load IdP selection data","fatal.wrongProtocol":'Policy supplied to DS was not "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId supplied by SP did not match configuration","fatal.noData":"Metadata download returned no data","fatal.loadFailed":"Failed to download metadata from ","fatal.noparms":"No parameters to discovery session and no defaultReturn parameter configured","fatal.noReturnURL":"No URL return parameter provided","fatal.badProtocol":"Return parameter must start with https:// or http://","fatal.badReturnString":"Return parameter is not whitelisted","idpPreferred.label":"Use a suggested selection:","idpEntry.label":"Or enter your organization's name","idpEntry.NoPreferred.label":"Enter your organization's name","idpList.label":"Or select your organization from the list below","idpList.NoPreferred.label":"Select your organization from the list below","idpList.defaultOptionLabel":"Please select your organization...","idpList.showList":"Allow me to pick from a list","idpList.showSearch":"Allow me to specify the site","submitButton.label":"Continue",helpText:"Help",defaultLogoAlt:"DefaultLogo","autoFollow.message":"Always follows this selection","autoFollow.never":"Never","autoFollow.time0":"One day","autoFollow.time1":"3 months","autoFollow.time2":"9 months"},de:{"fatal.divMissing":"Das notwendige Div Element fehlt","fatal.noXMLHttpRequest":"Ihr Webbrowser unterstützt keine XMLHttpRequests, IdP-Auswahl kann nicht geladen werden","fatal.wrongProtocol":'DS bekam eine andere Policy als "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"Die entityId ist nicht korrekt","fatal.noData":"Heruntergeladene Metadata waren leer","fatal.loadFailed":"Metadaten konnten nicht heruntergeladen werden: ","fatal.noparms":"Parameter für das Discovery Service oder 'defaultReturn' fehlen","fatal.noReturnURL":"URL return Parmeter fehlt","fatal.badProtocol":"return Request muss mit https:// oder http:// beginnen","fatal.badReturnString":"Return Parameter ist nicht auf Positivliste enthalten","idpPreferred.label":"Vorherige Auswahl:","idpEntry.label":"Oder geben Sie den Namen (oder Teile davon) an:","idpEntry.NoPreferred.label":"Namen (oder Teile davon) der Institution angeben:","idpList.label":"Oder wählen Sie Ihre Institution aus einer Liste:","idpList.NoPreferred.label":"Institution aus folgender Liste wählen:","idpList.defaultOptionLabel":"Wählen Sie Ihre Institution aus...","idpList.showList":"Institution aus einer Liste wählen","idpList.showSearch":"Institution selbst angeben","submitButton.label":"OK",helpText:"Hilfe",defaultLogoAlt:"Standard logo","autoFollow.message":"Auswahl merken und diesen Dialog nicht mehr anzeigen","autoFollow.never":"Nicht merken","autoFollow.time0":"Nur für Heute","autoFollow.time1":"Drei Monate lang","autoFollow.time2":"Neun Monate lang"},ja:{"fatal.divMissing":'"insertAtDiv" の ID を持つ <div> が HTML 中に存在しません',"fatal.noXMLHttpRequest":"ブラウザが XMLHttpRequest をサポートしていないので IdP 情報を取得できません","fatal.wrongProtocol":'DSへ渡された Policy パラメータが "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single" ではありません',"fatal.wrongEntityId":"SP から渡された entityId が設定値と異なります","fatal.noData":"メタデータが空です","fatal.loadFailed":"次の URL からメタデータをダウンロードできませんでした: ","fatal.noparms":"DSにパラメータが渡されておらず defaultReturn も設定されていません","fatal.noReturnURL":"戻り URL が指定されていません","fatal.badProtocol":"戻り URL は https:// か http:// で始まらなければなりません","idpPreferred.label":"選択候補の IdP:","idpEntry.label":"もしくはあなたの所属機関名を入力してください","idpEntry.NoPreferred.label":"あなたの所属機関名を入力してください","idpList.label":"もしくはあなたの所属機関を選択してください","idpList.NoPreferred.label":"あなたの所属機関を一覧から選択してください","idpList.defaultOptionLabel":"所属機関を選択してください...","idpList.showList":"一覧から選択する","idpList.showSearch":"機関名を入力する","submitButton.label":"選択","autoFollow.message":"次の期間選択した機関に自動的に遷移する:","autoFollow.never":"自動遷移しない","autoFollow.time0":"1日","autoFollow.time1":"3か月","autoFollow.time2":"9か月","fatal.badReturnString":"戻り URL が不正です",helpText:"ヘルプ",defaultLogoAlt:"ロゴ未設定"},"pt-br":{"fatal.divMissing":'A tag <div> com "insertAtDiv" não foi encontrada no arquivo HTML',"fatal.noXMLHttpRequest":'Seu navegador não suporta "XMLHttpRequest", impossível de carregador os dados do IdP selecionado',"fatal.wrongProtocol":'A política "Policy" fornecida para o DS não foi "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId oferecido pelo SP não confere com o da configuração","fatal.noData":"O arquivo de metadados não retornou nada;","fatal.loadFailed":"Falhou ao realizar download do metadado de ","fatal.noparms":'Sem parâmetros para sessão de descoberta e sem parâmetro "defaultReturn" configurado',"fatal.noReturnURL":"Não foi definida um endereço (URL) de retorno no parâmetro","fatal.badProtocol":"Retorno do endereço requisitado deve começar com https:// ou http://","idpPreferred.label":"Use estas Instituições sugeridas: ","idpEntry.label":"Ou informe o nome da sua Instituição","idpEntry.NoPreferred.label":"Informe o nome da sua Instituição","idpList.label":"Ou selecione sua Instituição através da lista abaixo","idpList.NoPreferred.label":"Selecione sua Instituição através da lista abaixo","idpList.defaultOptionLabel":"Por favor, selecione sua Instituição: ","idpList.showList":"Permitir que eu escolha um IdP através de uma lista","idpList.showSearch":"Permitir que eu especifique o IdP","submitButton.label":"Continuar ",helpText:"Ajuda",defaultLogoAlt:"Logo padrão"}}}function n(e,t,n,i,o,a,r,l,s,d,u,h){this.elementList=e,this.textBox=t,this.origin=n,this.submit=i,this.results=0,this.alwaysShow=d,this.maxResults=u,this.ie6hack=s,this.maxchars=o,this.getName=a,this.getEntityId=r,this.geticon=l,this.getKeywords=h}(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e),n.prototype.draw=function(e){var t=this;this.dropDown=document.createElement("ul"),this.dropDown.className="IdPSelectDropDown",this.dropDown.style.visibility="hidden",this.dropDown.style.width=this.textBox.offsetWidth,this.dropDown.current=-1,this.textBox.setAttribute("role","listbox"),document.body.appendChild(this.dropDown),this.textBox.setAttribute("role","combobox"),this.textBox.setAttribute("aria-controls","IdPSelectDropDown"),this.textBox.setAttribute("aria-owns","IdPSelectDropDown"),this.dropDown.onmouseover=function(e){var n;e||(e=window.event),e.target&&(n=e.target),void 0===n&&(n=e.srcElement),t.select(n)},this.dropDown.onmousedown=function(e){-1!=t.dropDown.current&&(t.textBox.value=t.results[t.dropDown.current][0])},this.textBox.onkeyup=function(e){e||(e=window.event),t.handleKeyUp(e)},this.textBox.onkeydown=function(e){e||(e=window.event),t.handleKeyDown(e)},this.textBox.onblur=function(){t.hideDrop()},this.textBox.onfocus=function(){t.handleChange()},(null==e||e)&&this.textBox.focus()},n.prototype.getPossible=function(e){var t=[],n=0,i=0;for(e=e.toLowerCase();i<=this.maxResults&&n<this.elementList.length;){var o=!1,a=this.getName(this.elementList[n]);if(-1!=a.toLowerCase().indexOf(e)&&(o=!0),o||-1==this.getEntityId(this.elementList[n]).toLowerCase().indexOf(e)||(o=!0),!o){var r=this.getKeywords(this.elementList[n]);null!=r&&-1!=r.toLowerCase().indexOf(e)&&(o=!0)}o&&(t[i]=[a,this.getEntityId(this.elementList[n]),this.geticon(this.elementList[n])],i++),n++}return this.dropDown.current=-1,t},n.prototype.handleKeyUp=function(e){var t=e.keyCode;27==t?(this.textBox.value="",this.handleChange()):(8==t||32==t||t>=46&&t<112||t>123)&&this.handleChange()},n.prototype.handleKeyDown=function(e){var t=e.keyCode;38==t?this.upSelect():40==t&&this.downSelect()},n.prototype.hideDrop=function(){var e=0;if(null!==this.ie6hack)for(;e<this.ie6hack.length;)this.ie6hack[e].style.visibility="visible",e++;this.dropDown.style.visibility="hidden",this.textBox.setAttribute("aria-expanded","false"),-1==this.dropDown.current&&this.doUnselected()},n.prototype.showDrop=function(){var e=0;if(null!==this.ie6hack)for(;e<this.ie6hack.length;)this.ie6hack[e].style.visibility="hidden",e++;this.dropDown.style.visibility="visible",this.dropDown.style.width=this.textBox.offsetWidth+"px",this.textBox.setAttribute("aria-expanded","true")},n.prototype.doSelected=function(){this.submit.disabled=!1},n.prototype.doUnselected=function(){this.submit.disabled=!0,this.textBox.setAttribute("aria-activedescendant","")},n.prototype.handleChange=function(){var e=this.textBox.value,t=this.getPossible(e);0===e.length||0===t.length||!this.alwaysShow&&this.maxResults<t.length?(this.hideDrop(),this.doUnselected(),this.results=[],this.dropDown.current=-1):(this.results=t,this.populateDropDown(t),1==t.length?(this.select(this.dropDown.childNodes[0]),this.doSelected()):this.doUnselected())},n.prototype.populateDropDown=function(e){this.dropDown.innerHTML="";for(var t,n,i,o=0;o<e.length;)(t=document.createElement("li")).id="IdPSelectOption"+o,i=e[o][0],null!==e[o][2]?((n=document.createElement("img")).src=e[o][2],n.width=16,n.height=16,n.alt="",t.appendChild(n),i.length>this.maxchars-2&&(i=i.substring(0,this.maxchars-2)),i=" "+i):i.length>this.maxchars&&(i=i.substring(0,this.maxchars)),t.appendChild(document.createTextNode(i)),t.setAttribute("role","option"),this.dropDown.appendChild(t),o++;var a=this.getXY();this.dropDown.style.left=a[0]+"px",this.dropDown.style.top=a[1]+"px",this.showDrop()},n.prototype.getXY=function(){for(var e=this.textBox,t=0,n=e.offsetHeight;"BODY"!=e.tagName;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return[t+=e.offsetLeft,n+=e.offsetTop]},n.prototype.select=function(e){var t,n=0;for(this.dropDown.current=-1,this.doUnselected();n<this.dropDown.childNodes.length;)(t=this.dropDown.childNodes[n])==e?(t.className="IdPSelectCurrent",t.setAttribute("aria-selected","true"),this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+n),this.doSelected(),this.dropDown.current=n,this.origin.value=this.results[n][1],this.origin.textValue=this.results[n][0]):(t.setAttribute("aria-selected","false"),t.className=""),n++;this.textBox.focus()},n.prototype.downSelect=function(){this.results.length>0&&(-1==this.dropDown.current?(this.dropDown.current=0,this.dropDown.childNodes[0].className="IdPSelectCurrent",this.dropDown.childNodes[0].setAttribute("aria-selected","true"),this.textBox.setAttribute("aria-activedescendant","IdPSelectOption0"),this.doSelected(),this.origin.value=this.results[0][1],this.origin.textValue=this.results[0][0]):this.dropDown.current<this.results.length-1&&(this.dropDown.childNodes[this.dropDown.current].className="",this.dropDown.current++,this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent",this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true"),this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current),this.doSelected(),this.origin.value=this.results[this.dropDown.current][1],this.origin.textValue=this.results[this.dropDown.current][0]))},n.prototype.upSelect=function(){this.results.length>0&&this.dropDown.current>0&&(this.dropDown.childNodes[this.dropDown.current].className="",this.dropDown.current--,this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent",this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true"),this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current),this.doSelected(),this.origin.value=this.results[this.dropDown.current][1],this.origin.textValue=this.results[this.dropDown.current][0])},(new function(){var e,i,o,a,r,l,s,d,u,h,c,p,f,g,m,v,w,b,L,y,D,x,P,I,S,C,A,R,N,T,O,B,E,M,k,F,U,H,q,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",W="idpSelect",z="",K="",j=[],V="entityID";this.draw=function(t){if(i=document.getElementById(t.insertAtDiv),G(t))if(i){if(null!=O&&null!=Ce(O)){var n=Ae();if(0!=n.length){var o=V+"="+encodeURIComponent(n[0]);return o=-1==z.indexOf("?")?"?"+o:"&"+o,void Z(i,z+o)}}if(Q(t.dataSource)){_(),Y(t.hiddenIdPs),e.sort((function(e,t){return ye(e).localeCompare(ye(t))}));var a=ne();i.appendChild(a),q.draw(t.setFocusTextBox)}}else Be(we("fatal.divMissing"))};var G=function(e){var n,i;w=e.preferredIdP,b=e.maxPreferredIdPs,L=e.helpURL,y=e.ie6Hack,D=e.samlIdPCookieTTL,S=e.alwaysShow,C=e.maxResults,A=e.ignoreKeywords,R=!!e.showListFirst&&e.showListFirst,N=!!e.noWriteCookie&&e.noWriteCookie,T=!!e.ignoreURLParams&&e.ignoreURLParams,d=e.defaultLogo,u=e.defaultLogoWidth,h=e.defaultLogoHeight,c=e.minWidth,p=e.minHeight,f=e.maxWidth,g=e.maxHeight,m=e.bestRatio,v=null==e.doNotCollapse||e.doNotCollapse,P=e.maxIdPCharsButton,x=e.maxIdPCharsDropDown,I=e.maxIdPCharsAltTxt,O=e.autoFollowCookie,B=e.autoFollowCookieTTLs,(i=(i="undefined"==typeof navigator?e.defaultLanguage:navigator.language||navigator.userLanguage||e.defaultLanguage).toLowerCase()).indexOf("-")>0&&(a=i.substring(0,i.indexOf("-")));var o=new t;if(r=e.defaultLanguage,void 0!==e.langBundles&&void 0!==e.langBundles[i]?l=e.langBundles[i]:void 0!==o.langBundles[i]?l=o.langBundles[i]:void 0!==a&&(void 0!==e.langBundles&&void 0!==e.langBundles[a]?l=e.langBundles[a]:void 0!==o.langBundles[a]&&(l=o.langBundles[a])),!(s=void 0!==e.langBundles&&void 0!==e.langBundles[e.defaultLanguage]?e.langBundles[e.defaultLanguage]:o.langBundles[e.defaultLanguage]))return Be("No languages work"),!1;if(l||(Ee("No language support for "+i),l=s),e.testGUI)return!0;for(var E,M,k="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single",F=!1,U=window;null!==U.parent&&U!==U.parent;)U=U.parent;var H,q=U.location.search;if(T||null==q||0==q.length||"?"!=q.charAt(0)){if(null==e.defaultReturn&&!T)return Be(we("fatal.noparms")),!1;n=e.myEntityID,z=e.defaultReturn,null!=e.defaultReturnIDParam&&(V=e.defaultReturnIDParam)}else{if(0===(E=(q=q.substring(1)).split("&")).length)return Be(we("fatal.noparms")),!1;for(W=0;W<E.length;W++)2==(M=E[W].split("=")).length&&("entityID"==M[0]?n=decodeURIComponent(M[1]):"return"==M[0]?z=decodeURIComponent(M[1]):"returnIDParam"==M[0]?V=decodeURIComponent(M[1]):"policy"==M[0]?k=decodeURIComponent(M[1]):"isPassive"==M[0]&&(F="TRUE"==M[1].toUpperCase()))}H=null==e.allowableProtocols?["urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"]:e.allowableProtocols;for(var X=!1,W=0;W<H.length;W++)if(k==H[W]){X=!0;break}if(!X)return Be(we("fatal.wrongProtocol")),!1;if(null!==e.myEntityID&&e.myEntityID!=n)return Be(we("fatal.wrongEntityId")+'"'+n+'" != "'+e.myEntityID+'"'),!1;if(null===z||0===z.length)return Be(we("fatal.noReturnURL")),!1;if(!$(z))return Be(we("fatal.badProtocol")),!1;if(!J(e.returnWhiteList,z))return Oe(we("fatal.badReturnString")),!1;if(F){var G=Ae(),_=document.getElementById(parmsSupplied.insertAtDiv);if(0==G.length)return Z(_,z),!1;var Y=V+"="+encodeURIComponent(G[0]);return Y=-1==z.indexOf("?")?"?"+Y:"&"+Y,Z(_,z+Y),!1}if((W=z.indexOf("?"))<0)return K=z,!0;for(K=z.substring(0,W),E=(q=z.substring(W+1)).split("&"),W=0;W<E.length;W++)2==(M=E[W].split("=")).length&&(M[1]=decodeURIComponent(M[1]),j.push(M));return!0},_=function(){var t,n=[];for(t=0;t<e.length;){var i=be(e[t]);null==n[i]?(n[i]=i,t+=1):e.splice(t,1)}},Y=function(t){var n,i;if(null!=t&&0!=t.length)for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)if(be(e[i])==t[n]){e.splice(i,1);break}},$=function(e){if(null===e)return!1;var t=e.indexOf("://");return!(t<0||"http"!=(e=e.substring(0,t))&&"https"!=e)},J=function(e,t){if(null==e)return!0;for(var n=0;n<e.length;n++)if(new RegExp(e[n]).test(t))return!0;return!1},Z=function(e,t){var n=document.createElement("a");n.href=t,e.appendChild(n),n.click()},Q=function(t){var n=null;try{n=new XMLHttpRequest}catch(e){}if(null==n)try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}if(null==n)try{n=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){}if(null==n)return Be(we("fatal.noXMLHttpRequest")),!1;if(function(){if(null==navigator)return!1;var e=navigator.appName;return null!=e&&"Microsoft Internet Explorer"==e}()&&(t+="?random="+1e6*Math.random()),n.open("GET",t,!1),"function"==typeof n.overrideMimeType&&n.overrideMimeType("application/json"),n.send(null),200!=n.status)return Be(we("fatal.loadFailed")+t),!1;var i=n.responseText;return null===i?(Be(we("fatal.noData")),!1):(e=JSON.parse(i),!0)},ee=function(t){for(var n=0;n<e.length;n++)if(be(e[n])==t)return e[n];return null},te=function(e,t){var n=function(t){var n,i=null;if(null==e.Logos)return null;for(n in e.Logos)e.Logos[n].lang==t&&null!=e.Logos[n].width&&e.Logos[n].width>=c&&null!=e.Logos[n].height&&e.Logos[n].height>=p&&(null===i?i=e.Logos[n]:(me=Math.abs(m-Math.log(e.Logos[n].width/e.Logos[n].height)),him=Math.abs(m-Math.log(i.width/i.height)),him>me&&(i=e.Logos[n])));return i},i=null,l=document.createElement("img");if(ge(l,"IdPImg"),null===(i=n(o))&&void 0!==a&&(i=n(a)),null===i&&(i=n(null)),null===i&&(i=n(r)),null===i)return t?(l.src=d,l.width=u,l.height=h,l.alt=we("defaultLogoAlt"),l):null;l.src=i.value;var s=ye(e);s.length>I&&(s=s.substring(0,I)+"..."),l.alt=s;var v=i.width,w=i.height;return v>f&&(w*=f/v,v=f),w>g&&(v*=g/w,w=g),l.setAttribute("width",v),l.setAttribute("height",w),l},ne=function(){var e,t=ce("IdPSelector");return e=ae(t),le(t,e),se(t,e),null!=O&&de(t),t},ie=function(e,t,n){var i=ce(void 0,"PreferredIdPButton"),o=document.createElement("a"),a=V+"="+encodeURIComponent(be(e)),r=z,l=te(e,n);if(a=-1==r.indexOf("?")?"?"+a:"&"+a,o.href=r+a,o.onclick=function(){ve(be(e))},null!=l){var s=ce(void 0,"PreferredIdPImg");s.appendChild(l),o.appendChild(s)}var d=ce(void 0,"TextDiv"),u=ye(e);return u.length>P&&(u=u.substring(0,P)+"..."),i.title=u,d.appendChild(document.createTextNode(u)),o.appendChild(d),i.appendChild(o),i},oe=function(e,t){var n=ce(void 0,"TextDiv"),i=document.createTextNode(we(t));n.appendChild(i),e.appendChild(n)},ae=function(e){var t=Pe();if(0===t.length)return!1;for(var n,i=v,o=0;o<b&&o<t.length;o++)t[o]&&te(t[o],!1)&&(i=!0);for(n=ce(i?"PreferredIdPTile":"PreferredIdPTileNoImg"),oe(n,"idpPreferred.label"),o=0;o<b&&o<t.length;o++)if(t[o]){var a=ie(t[o],0,i);n.appendChild(a)}return e.appendChild(n),!0},re=function(){var e=document.createElement("form");M.appendChild(e),e.action=K,e.method="GET",e.setAttribute("autocomplete","OFF");var t=0;for(t=0;t<j.length;t++){var n=document.createElement("input");n.setAttribute("type","hidden"),n.name=j[t][0],n.value=j[t][1],e.appendChild(n)}return e},le=function(t,i){M=ce("IdPEntryTile"),R&&(M.style.display="none");var o=document.createElement("label");o.setAttribute("for",W+"Input"),oe(o,i?"idpEntry.label":"idpEntry.NoPreferred.label");var a=re();a.appendChild(o);var r=document.createElement("input");a.appendChild(r),r.type="text",fe(r,"Input");var l=document.createElement("input");l.setAttribute("type","hidden"),a.appendChild(l),l.name=V,l.value="-",H=r;var s=ue("Select");s.disabled=!0,a.appendChild(s),a.onsubmit=function(){return null!==l.value&&0!==l.value.length&&"-"!=l.value&&(r.value=l.textValue,ve(l.value),!0)},q=new n(e,r,l,s,x,ye,be,Le,y,S,C,De);var d=document.createElement("a");d.appendChild(document.createTextNode(we("idpList.showList"))),d.href="#",ge(d,"DropDownToggle"),d.onclick=function(){return M.style.display="none",function(e,t){if(null!==t&&0!==t.length&&"-"!=t.value)for(var n=0;n<e.options.length;){if(e.options[n].value==t){e.options[n].selected=!0;break}n++}}(F,l.value),k.style.display="",U.focus(),!1},M.appendChild(d),he(M),t.appendChild(M)},se=function(t,n){k=ce("IdPListTile"),R||(k.style.display="none");var i=document.createElement("label");i.setAttribute("for",W+"Selector"),oe(i,n?"idpList.label":"idpList.NoPreferred.label"),F=document.createElement("select"),fe(F,"Selector"),F.name=V,k.appendChild(F);var o,a=pe("-",we("idpList.defaultOptionLabel"));a.selected=!0,F.appendChild(a);for(var r=0;r<e.length;r++)o=e[r],a=pe(be(o),ye(o)),F.appendChild(a);var l=re();l.appendChild(i),l.appendChild(F),l.onsubmit=function(){return!(F.selectedIndex<1||(ve(F.options[F.selectedIndex].value),0))},U=F;var s=ue("List");l.appendChild(s),k.appendChild(l);var d=document.createElement("a");d.appendChild(document.createTextNode(we("idpList.showSearch"))),d.href="#",ge(d,"DropDownToggle"),d.onclick=function(){return M.style.display="",k.style.display="none",H.focus(),!1},k.appendChild(d),he(k),t.appendChild(k)},de=function(e){var t="IdPSelectAutoDisp";autoDispatchTile=ce(void 0,"autoDispatchArea"),autoDispatchTile.appendChild(document.createTextNode(we("autoFollow.message")));var n,i=document.createElement("input");for(i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name",t),i.onclick=function(){Se(0)},div=ce(void 0,"autoDispatchTile"),div.appendChild(i),div.appendChild(document.createTextNode(we("autoFollow.never"))),autoDispatchTile.appendChild(div),n=0;n<B.length;n++)(i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("name",t),i.life=B[n],i.onclick=function(){var e=this.life;Se(e)},div=ce(void 0,"autoDispatchTile"),div.appendChild(i),div.appendChild(document.createTextNode(we("autoFollow.time"+n))),autoDispatchTile.appendChild(div);e.appendChild(autoDispatchTile)},ue=function(e){var t=document.createElement("input");return t.setAttribute("type","submit"),t.value=we("submitButton.label"),t.title=we("submitButton.title"),fe(t,e+"Button"),t},he=function(e){var t=document.createElement("a");t.href=L,t.appendChild(document.createTextNode(we("helpText"))),ge(t,"HelpButton"),e.appendChild(t)},ce=function(e,t){var n=document.createElement("div");return void 0!==e&&fe(n,e),void 0!==t&&ge(n,t),n},pe=function(e,t){var n=document.createElement("option");return n.value=e,t.length>x&&(t=t.substring(0,x)),n.appendChild(document.createTextNode(t)),n},fe=function(e,t){e.id=W+t},ge=function(e,t){e.setAttribute("class","IdPSelect"+t)},ve=function(e){Ie(e),Re(E)},we=function(e){var t=s[e];return t||(t=l[e]),t||(t="Missing message for "+e),t},be=function(e){return e.entityID},Le=function(e){var t;if(null==e.Logos)return null;for(t=0;t<e.Logos.length;t++){var n=e.Logos[t];if("16"==n.height&&"16"==n.width&&(null==n.lang||o==n.lang||void 0!==a&&a==n.lang||r==n.lang))return n.value}return null},ye=function(e){var t=xe(e.DisplayNames);return null!==t?t:(Ee("No Name entry in any language for "+be(e)),be(e))},De=function(e){return A||null==e.Keywords?null:xe(e.Keywords)},xe=function(e){var t;for(t in e)if(e[t].lang==o)return e[t].value;if(void 0!==a)for(t in e)if(e[t].lang==a)return e[t].value;for(t in e)if(null==e[t].lang)return e[t].value;for(t in e)if(e[t].lang==r)return e[t].value;return null},Pe=function(){var e,t,n=[],i=0;if(null!=w)for(e=0;e<w.length&&e<b;e++)n[e]=ee(w[e]),i++;for(E=Ae(),e=i,t=0;t<E.length&&e<b;t++){var o=ee(E[t]);(void 0===n.indexOf||-1===n.indexOf(o))&&(n.push(o),e++)}return n},Ie=function(e){for(var t=[];0!==E.length;){var n=E.pop();n!=e&&t.unshift(n)}t.unshift(e),E=t},Se=function(e){var t;if(e>0){var n=new Date,i=24*e*60*60*1e3;t=new Date(n.getTime()+i)}else t=new Date(0);document.cookie=O+"=1;path=/;expires="+t.toUTCString()},Ce=function(e){var t,n;for(n=document.cookie.split(";"),t=0;t<n.length;t++){var i=n[t],o=i.indexOf("=");if(e==i.substring(0,o).replace(/^\s+|\s+$/g,""))return i.substring(o+1)}return null},Ae=function(){var e,t=[],n=Ce("_saml_idp");if(null!=n)for(e=(n=(n=(n=n.replace(/^\s+|\s+$/g,"")).replace("+","%20")).split("%20")).length;e>0;e--)if(0!==n[e-1].length){var i=Te(decodeURIComponent(n[e-1]));i.length>0&&t.push(i)}return t},Re=function(e){var t=[],n=e.length;if(!N){n>5&&(n=5);for(var i=n;i>0;i--)e[i-1].length>0&&t.push(encodeURIComponent(Ne(e[i-1])));var o=null;if(D){var a=new Date,r=24*D*60*60*1e3;o=new Date(a.getTime()+r)}document.cookie="_saml_idp="+t.join("%20")+"; path = /"+(null===o?"":"; expires="+o.toUTCString())}},Ne=function(e){for(var t,n,i,o,a,r,l,s="",d=0;d<e.length;)o=(t=e.charCodeAt(d++))>>2,a=((3&t)<<4)+((n=e.charCodeAt(d++))>>4),r=((15&n)<<2)+((i=e.charCodeAt(d++))>>6),l=63&i,isNaN(n)?r=l=64:isNaN(i)&&(l=64),s+=X.charAt(o)+X.charAt(a)+X.charAt(r)+X.charAt(l);return s},Te=function(e){var t,n,i,o,a,r,l="",s=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=X.indexOf(e.charAt(s++))<<2|(o=X.indexOf(e.charAt(s++)))>>4,n=(15&o)<<4|(a=X.indexOf(e.charAt(s++)))>>2,i=(3&a)<<6|(r=X.indexOf(e.charAt(s++))),l+=String.fromCharCode(t),64!=a&&(l+=String.fromCharCode(n)),64!=r&&(l+=String.fromCharCode(i)),t=n=i="",o=a=r=""}while(s<e.length);return l},Oe=function(e){if(i){var t=document.createTextNode(e);i.appendChild(t)}else alert("FATAL (NoDiv):"+e)},Be=function(e){alert("FATAL - DISCO UI:"+e),i&&Oe(e)},Ee=function(){}}).draw(new function(){this.alwaysShow=!0,this.dataSource="/account/providers",this.defaultLanguage="de",this.defaultLogo="/images/eds/default.png",this.defaultLogoWidth=80,this.defaultLogoHeight=80,this.defaultReturn=null,this.defaultReturnIDParam=null,this.returnWhiteList=["^https://localhost(:[0-9]+)/[Aa]ccount(/)?.*$","^https://host.testcontainers.internal(:[0-9]+)/[Aa]ccount(/)?.*$"],this.helpURL="https://wiki.shibboleth.net/confluence/display/SHIB2/DSRoadmap",this.ie6Hack=null,this.insertAtDiv="idpSelect",this.maxResults=10,this.myEntityID=null,this.preferredIdP=null,this.hiddenIdPs=null,this.ignoreKeywords=!1,this.showListFirst=!1,this.samlIdPCookieTTL=730,this.setFocusTextBox=!0,this.testGUI=!1,this.autoFollowCookie=null,this.autoFollowCookieTTLs=[1,60,270],this.langBundles={de:{"fatal.divMissing":"Das notwendige Div Element fehlt","fatal.noXMLHttpRequest":"Ihr Webbrowser unterstützt keine XMLHttpRequests, IdP-Auswahl kann nicht geladen werden","fatal.wrongProtocol":'DS bekam eine andere Policy als "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"Die entityId ist nicht korrekt","fatal.noData":"Heruntergeladene Metadata waren leer","fatal.loadFailed":"Metadaten konnten nicht heruntergeladen werden: ","fatal.noparms":"Parameter für das Discovery Service oder 'defaultReturn' fehlen","fatal.noReturnURL":"URL return Parmeter fehlt","fatal.badProtocol":"return Request muss mit https:// oder http:// beginnen","fatal.badReturnString":"Return Parameter ist nicht auf Positivliste enthalten","idpPreferred.label":"Vorherige Auswahl:","idpEntry.label":"Oder geben Sie den Namen (oder Teile davon) an:","idpEntry.NoPreferred.label":"Namen der Organisation (oder Teile davon) angeben:","idpList.label":"Oder wählen Sie Ihre Organisation aus einer Liste:","idpList.NoPreferred.label":"Organisation aus folgender Liste wählen:","idpList.defaultOptionLabel":"Wählen Sie Ihre Organisation aus...","idpList.showList":"Organisation aus einer Liste wählen","idpList.showSearch":"Organisation selbst angeben","submitButton.label":"Anmelden","submitButton.title":"Mit ausgewählter Organisation anmelden",helpText:"Hilfe",defaultLogoAlt:"Standard logo","autoFollow.message":"Auswahl merken und diesen Dialog nicht mehr anzeigen","autoFollow.never":"Nicht merken","autoFollow.time0":"Nur für Heute","autoFollow.time1":"Drei Monate lang","autoFollow.time2":"Neun Monate lang"}},this.maxPreferredIdPs=3,this.maxIdPCharsButton=33,this.maxIdPCharsDropDown=58,this.maxIdPCharsAltTxt=60,this.minWidth=20,this.minHeight=20,this.maxWidth=115,this.maxHeight=69,this.bestRatio=Math.log(80/60)}),FederationGateway=e})();